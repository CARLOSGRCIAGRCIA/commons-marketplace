openapi: 3.0.0
info:
    title: CommonMarketplace Service API
    version: 1.0.1
    description: |
        API for managing all logic about CommonMarketplace marketplace.

servers: []

security:
    - BearerAuth: []
components:
    securitySchemes:
        BearerAuth:
            type: http
            scheme: bearer
            bearerFormat: JWT
            description: Use JWT token for authentication

    parameters:
        pageParam:
            name: page
            in: query
            description: Page number for pagination
            required: false
            schema:
                type: integer
                default: 1
                minimum: 1
        limitParam:
            name: limit
            in: query
            description: Number of items per page
            required: false
            schema:
                type: integer
                default: 10
                minimum: 1

    schemas:
        ProductResponse:
            type: object
            description: Represents a product in the system.
            properties:
                id:
                    type: string
                    description: The product's unique identifier.
                    example: '60c72b2f9b1d8e001f8e4c5e'
                name:
                    type: string
                    example: 'Handmade Ceramic Mug'
                description:
                    type: string
                    example: 'A beautiful mug, perfect for your morning coffee.'
                price:
                    type: number
                    format: float
                    example: 25.99
                stock:
                    type: integer
                    example: 15
                categoryId:
                    type: string
                    example: '60c72b2f9b1d8e001f8e4c5d'
                sellerId:
                    type: string
                    example: 'auth0|60c72b2f9b1d8e001f8e4c5c'
                mainImageUrl:
                    type: string
                    format: uri
                    example: 'https://example.com/images/mug.jpg'
                createdAt:
                    type: string
                    format: date-time
                updatedAt:
                    type: string
                    format: date-time

    ProductInput:
        type: object
        description: Data required to create or update a product.
        required:
            - name
            - description
            - price
            - stock
            - categoryId
            - sellerId
            - mainImageUrl
        properties:
            name:
                type: string
                example: 'Handmade Ceramic Mug'
            description:
                type: string
                example: 'A beautiful mug, perfect for your morning coffee.'
            price:
                type: number
                format: float
                example: 25.99
            stock:
                type: integer
                example: 15
            categoryId:
                type: string
                example: '60c72b2f9b1d8e001f8e4c5d'
            sellerId:
                type: string
                example: 'auth0|60c72b2f9b1d8e001f8e4c5c'
            mainImageUrl:
                type: string
                format: uri
                example: 'https://example.com/images/mug.jpg'

    StoreResponse:
        type: object
        description: Represents a seller's store in the system.
        properties:
            id:
                type: string
                description: The store's unique identifier.
                example: '60d21b4667d0d8992e610c85'
            userId:
                type: string
                description: The ID of the user who owns this store.
                example: 'auth0|60c72b2f9b1d8e001f8e4c5c'
            storeName:
                type: string
                example: 'Artisan Crafts by Juan'
            description:
                type: string
                example: 'Handmade crafts and local products.'
            status:
                type: string
                enum: [Pending, Approved, Rejected, Suspended]
                example: 'Approved'
            createdAt:
                type: string
                format: date-time
            updatedAt:
                type: string
                format: date-time

    StoreUpdateInput:
        type: object
        description: Data for updating a store's details. All fields are optional.
        minProperties: 1
        properties:
            storeName:
                type: string
                example: "Juan's Artisan Crafts"
            description:
                type: string
                example: 'Discover the best handmade crafts and local products from our community.'
